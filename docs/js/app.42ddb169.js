(function(){"use strict";var t={512:function(t,a,e){var s=e(7195),n=function(){var t=this,a=t._self._c;return a("div",{attrs:{id:"app"}},[a("PageHeader"),a("PageNavigation"),a("router-view")],1)},o=[],i=function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-header"},[a("div",{staticClass:"page-header-content"},[a("div",{staticClass:"page-header-content-logo"},[a("span",{domProps:{innerHTML:t._s(t.logo)},on:{click:t.goStart}})]),t._m(0)])])},r=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-header-content-link"},[a("a",{staticClass:"side-link",attrs:{target:"_blank",href:"https://doces.ru/"}},[t._v(" Счета и акты онлайн ")])])}],l=(e(7658),'<svg width="36px" height="36px" viewBox="0 0 224 224" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="#333333" fill-rule="evenodd">\n        <g id="Logo---itillect" transform="translate(-3.000000, -4.000000)"  fill-rule="nonzero">\n            <g id="logo_itillect" transform="translate(0.000000, 1.000000)">\n                <rect id="Rectangle-path" transform="translate(25.243586, 115.106049) rotate(-45.000000) translate(-25.243586, -115.106049) " x="7.62575456" y="97.4529116" width="35.2356621" height="35.3062746" rx="8"></rect>\n                <path d="M117.484,52.6833667 L117.484,52.6833667 C118.856679,54.0587966 118.856679,56.2858928 117.484,57.6613226 L65.8078865,109.440995 C62.6912384,112.563889 62.6912384,117.620479 65.8078865,120.743373 L79.4374861,134.400287 C82.5585515,137.527607 87.6238688,137.532677 90.7511889,134.411612 C90.7549677,134.40784 90.7587427,134.404065 90.7625139,134.400287 L139.237486,85.8281703 C142.358552,82.7008502 147.423869,82.6957798 150.551189,85.8168452 C150.554968,85.8206165 150.558743,85.8243915 150.562514,85.8281703 L169.137486,104.440367 C172.258552,107.567687 177.323869,107.572757 180.451189,104.451692 C180.454968,104.447921 180.458743,104.444146 180.462514,104.440367 L194.092113,90.7834534 C197.208762,87.6605595 197.208762,82.6039695 194.092113,79.4810756 L120.662514,5.90432257 C117.541448,2.77700249 112.476131,2.7719321 109.348811,5.89299755 C109.345032,5.89676878 109.341257,5.90054379 109.337486,5.90432257 L35.9078865,79.4810756 C32.7912384,82.6039695 32.7912384,87.6605595 35.9078865,90.7834534 L49.5374861,104.440367 C52.6585515,107.567687 57.7238688,107.572757 60.8511889,104.451692 C60.8549677,104.447921 60.8587427,104.444146 60.8625139,104.440367 L112.516,52.6833667 C113.885132,51.3114914 116.107157,51.3092672 117.479032,52.6783987 C117.48069,52.6800531 117.482346,52.6817091 117.484,52.6833667 Z" id="Shape"></path>\n                <rect id="Rectangle-path" transform="translate(204.727085, 115.089262) rotate(-45.000000) translate(-204.727085, -115.089262) " x="187.109254" y="97.4361248" width="35.2356621" height="35.3062746" rx="8"></rect>\n                <path d="M112.516,177.547094 L112.516,177.547094 C111.143167,176.17151 111.142739,173.944296 112.515043,172.568183 L164.191248,120.748589 C167.307883,117.623305 167.304575,112.564367 164.183855,109.443162 L150.56252,95.8197115 C147.438568,92.6952746 142.373248,92.6948814 139.248811,95.8188331 C139.246777,95.8208669 139.244744,95.8229017 139.242712,95.8249377 L90.7625139,144.402291 C87.6414485,147.529611 82.5761312,147.534681 79.4488111,144.413616 C79.4450323,144.409844 79.4412573,144.406069 79.4374861,144.402291 L60.8625139,125.790094 C57.7414485,122.662774 52.6761312,122.657704 49.5488111,125.778769 C49.5450323,125.78254 49.5412573,125.786315 49.5374861,125.790094 L35.9078865,139.447007 C32.7912384,142.569901 32.7912384,147.626491 35.9078865,150.749385 L109.337486,224.326138 C112.458552,227.453458 117.523869,227.458529 120.651189,224.337463 C120.654968,224.333692 120.658743,224.329917 120.662514,224.326138 L194.092113,150.749385 C197.208762,147.626491 197.208762,142.569901 194.092113,139.447007 L180.462514,125.790094 C177.341448,122.662774 172.276131,122.657704 169.148811,125.778769 C169.145032,125.78254 169.141257,125.786315 169.137486,125.790094 L117.484,177.547094 C116.114868,178.91897 113.892843,178.921194 112.520968,177.552062 C112.51931,177.550408 112.517654,177.548752 112.516,177.547094 Z" id="Shape"></path>\n            </g>\n        </g>\n    </g>\n</svg>'),c={name:"PageHeader",data(){return{logo:l}},methods:{goStart(){this.$router.push({name:"home"})}}},p=c,u=e(3736),d=(0,u.Z)(p,i,r,!1,null,null,null),m=d.exports,h=function(){var t=this,a=t._self._c;return a("div",{class:["page-header-nav",{"page-header-nav-one":!t.$route.params.hash}]},[t.$route.params.hash?a("router-link",{staticClass:"page-header-nav-link",attrs:{to:{name:"home"}}},[t._v(" Сгенерировать новую карточку ")]):t._e(),t.companiesTabs.length?a("el-tabs",{on:{"tab-click":t.changeRoute},model:{value:t.tabHash,callback:function(a){t.tabHash=a},expression:"tabHash"}},t._l(t.companiesTabs,(function(t){return a("el-tab-pane",{key:t.hash,attrs:{label:t.title,name:t.hash}})})),1):t._e()],1)},_=[],g=e(408),C={name:"PageNavigation",data:()=>({tabHash:""}),computed:{...(0,g.rn)(["companiesTabs"])},watch:{companiesTabs(){this.tabHash=this.$route.params.hash},"$route.params":{handler:function(){this.$route.params?.hash||(this.tabHash="")},deep:!0}},methods:{...(0,g.OI)({setCompanyTabs:"SET_COMPANY_TABS"}),changeRoute(){this.$router.push(`/bcard/${this.tabHash}`)}},mounted(){this.setCompanyTabs()}},f=C,v=(0,u.Z)(f,h,_,!1,null,null,null),b=v.exports,k={name:"App",components:{PageHeader:m,PageNavigation:b}},y=k,w=(0,u.Z)(y,n,o,!1,null,null,null),B=w.exports,O=e(2241),T=function(){var t=this,a=t._self._c;return a("div",{staticClass:"generator-page"},[a("Transition",{attrs:{name:"generator-page"}},[a(t.component,{tag:"component",on:{toggle:function(a){t.showIntro=!t.showIntro}}})],1)],1)},$=[],I=function(){var t=this,a=t._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"card-generator",attrs:{"element-loading-text":"Загрузка данных...","element-loading-background":"rgb(247 248 249 / 80%)"}},[a("h3",{staticClass:"card-generator-title"},[t._v("Введите ИНН организации")]),a("ActionField",{attrs:{type:"number",label:"Найти",rule:"inn",placeholder:"Пример: 7723615168"},on:{action:t.getCompanyByINN},model:{value:t.companyInn,callback:function(a){t.companyInn=a},expression:"companyInn"}}),!t.isNewClient&&t.getClientCompanyTableRows.length?a("div",{staticClass:"card-generator-info"},[a("CompanyInfoBlock"),a("el-button",{staticClass:"card-generator-info-action",attrs:{type:"primary"},on:{click:t.createCard}},[t._v(" Все верно, создать карточку ")])],1):a("div",{staticClass:"card-generator-hint"},[a("p",[t._v("Мы найдем реквизиты организациий и ИП в ЕГРЮЛ или ЕГРИП.")]),a("p",[t._v("В ИНН организации 10 цифр или 12 цифр для ИП.")]),a("p",[t._v("ИНН можно найти в свидетельстве о регистрации организации")])])],1)},E=[],S=function(){var t=this,a=t._self._c;return a("div",{class:["info-block",t.card&&"info-block-card"]},[t._l(t.getClientCompanyTableRows,(function(e){return[e.value?a("el-row",{key:e.key,staticClass:"info-block-row"},[a("el-col",{staticClass:"info-block-row__option",attrs:{span:6}},[t._v(" "+t._s(e.label)+" ")]),a("el-col",{staticClass:"info-block-row__value",attrs:{span:15}},[t._v(" "+t._s(e.value)+" ")]),t.card?a("el-col",{staticClass:"info-block-row__copy",attrs:{span:3}},[a("el-button",{staticClass:"info-block-row__copy-btn",attrs:{type:"primary"},on:{click:function(a){return t.$copy(e.value)}}},[t._v(" Копировать ")])],1):t._e()],1):t._e()]}))],2)},P=[],A={name:"InfoBlock",props:{card:{type:Boolean,default:!1}},computed:{...(0,g.Se)(["getClientCompanyTableRows"])}},L=A,x=(0,u.Z)(L,S,P,!1,null,null,null),N=x.exports,Z=function(){var t=this,a=t._self._c;return a("div",{staticClass:"action-field"},[a("el-input",{staticClass:"action-field-input",attrs:{placeholder:t.placeholder,type:t.type??"text"},model:{value:t.modelValue,callback:function(a){t.modelValue=a},expression:"modelValue"}}),a("el-button",{staticClass:"action-field-btn",attrs:{type:"primary",disabled:!t.isValid},on:{click:function(a){return t.$emit("action")}}},[t._v(" "+t._s(t.label)+" ")])],1)},M=[],R={name:"ActionField",props:{value:{type:[String,Number],default:""},type:{type:String,required:!1},label:{type:String,required:!0},placeholder:{type:String,required:!0},rule:{type:String,required:!1}},data:()=>({isValid:!1,validators:{inn:/^\d{10,12}$/,email:/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_-])+\.([A-Za-z]{2,4})$/}}),computed:{modelValue:{get(){return this.value},set(t){this.isValid=this.validators[this.rule]?t&&this.validators[this.rule].test(t):!!t,this.$emit("input",t)}}}},F=R,H=(0,u.Z)(F,Z,M,!1,null,null,null),j=H.exports,U={name:"CardGenerator",data:()=>({companyInn:"",isLoading:!1,isNewClient:!0}),components:{CompanyInfoBlock:N,ActionField:j},computed:{...(0,g.rn)(["clientCompany"]),...(0,g.Se)(["getClientCompanyTableRows"])},methods:{...(0,g.nv)({getCompanyByInn:"getCompanyByInn"}),...(0,g.OI)({setCompanyTab:"SET_COMPANY_TAB"}),createCard(){this.setCompanyTab({title:this.clientCompany.short_name,hash:this.clientCompany.hash}),this.$router.push(`/bcard/${this.clientCompany.hash}`)},getCompanyByINN(){this.isLoading=!0,this.getCompanyByInn(this.companyInn).then((()=>{this.companyInnComputed=""})).catch((()=>{this.$message({message:"Компания с таким ИНН не найдена",type:"error"})})).finally((()=>{this.isLoading=!1,this.isNewClient=!1}))}}},Y=U,D=(0,u.Z)(Y,I,E,!1,null,"9309612c",null),K=D.exports,V=function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-intro"},[a("div",{staticClass:"card-intro-block"},[t._m(0),a("p",[t._v("Сгенерируйте карточку вашей организации.")]),a("p",[t._v(" Копируйте данные для договоров и делитесь карточкой с вашими партнерами в удобном формате. ")]),t._m(1),a("p",[t._v(" Открытый доступ к карточке без интернета с мобильного телефона. Сохраните на мобильном HomeScreen. ")]),a("el-button",{staticClass:"card-intro-block-action",attrs:{type:"primary"},on:{click:function(a){return t.$emit("toggle")}}},[t._v(" Сгенерировать карточку ")])],1),t._m(2)])},q=[function(){var t=this,a=t._self._c;return a("h1",[t._v(" Удобная"),a("br"),t._v(" онлайн карточка "),a("br"),t._v(" вашей организации ")])},function(){var t=this,a=t._self._c;return a("ul",[a("li",[t._v("DOCX")]),a("li",[t._v("PDF")]),a("li",[t._v("Ссылка")]),a("li",[t._v("Email")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-intro-block"},[a("div",{staticClass:"card-intro-block-img"},[a("img",{attrs:{src:e(2611)}})]),a("p",[t._v("Не требует регистрации и предоставляется - БЕСПЛАТНО")]),a("p",[t._v("*Дата актуальности справочников: 25.03.2023")])])}],G={name:"CardIntro"},W=G,z=(0,u.Z)(W,V,q,!1,null,"68f4789e",null),J=z.exports,X={name:"GeneratorPage",components:{CardGenerator:K,CardIntro:J},data:()=>({showIntro:!0}),computed:{component(){return this.showIntro?J:K}}},Q=X,tt=(0,u.Z)(Q,T,$,!1,null,"0b2db15f",null),at=tt.exports,et=function(){var t=this,a=t._self._c;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"card-page"},[t.isLoading?t._e():[t.isOpenSendEmailBlock?a("EmailForm",{on:{mailsent:function(a){t.isOpenSendEmailBlock=!1},close:function(a){t.isOpenSendEmailBlock=!1}}}):[a("CompanyInfo",{on:{"open-email-block":function(a){t.isOpenSendEmailBlock=!0}}}),a("ContractTemplate")]]],2)},st=[],nt=function(){var t=this,a=t._self._c;return a("div",{staticClass:"company-card"},[a("div",{staticClass:"company-card-header"},[a("h1",{staticClass:"company-card-header__title"},[t._v(" "+t._s(t.clientCompany.short_name)+" ")]),a("ActionsBlock",{on:{"open-email-block":function(a){return t.$emit("open-email-block")}}})],1),a("CompanyInfoBlock",{attrs:{card:""}}),a("BankInfoBlock")],1)},ot=[],it=function(){var t=this,a=t._self._c;return a("div",{staticClass:"action"},[a("el-button",{staticClass:"action-btn",attrs:{plain:""},on:{click:t.downloadPdf}},[t._v("PDF")]),a("el-button",{staticClass:"action-btn",attrs:{plain:""},on:{click:t.downloadWord}},[t._v("DOCX")]),a("el-button",{staticClass:"action-btn",attrs:{plain:""},on:{click:function(a){return t.$emit("open-email-block")}}},[t._v(" Отправить на email ")]),a("el-button",{staticClass:"action-btn",attrs:{plain:""},on:{click:function(a){return t.$flashMessage(t.currentLink)}}},[t._v(" Получить ссылку ")])],1)},rt=[],lt={name:"ActionsBlock",computed:{currentLink(){return window.location.href}},methods:{...(0,g.nv)(["getPdf","getWord"]),openEmail(){this.$emit("open")},downloadPdf(){this.getPdf(this.$route.params.hash)},downloadWord(){this.getWord(this.$route.params.hash)}}},ct=lt,pt=(0,u.Z)(ct,it,rt,!1,null,null,null),ut=pt.exports,dt=function(){var t=this,a=t._self._c;return a("div",{staticClass:"info-block info-block-card"},[a("h3",{staticClass:"info-block-header"},[t._v("Банковские реквизиты")]),t._l(t.getClientBankRows,(function(e){return a("el-row",{key:e.key,staticClass:"info-block-row"},[a("el-col",{staticClass:"info-block-row__option",attrs:{span:6}},[t._v(" "+t._s(e.label)+" ")]),e.input?a("el-col",{staticClass:"info-block-row__value",attrs:{span:15}},[a("el-input",{attrs:{placeholder:e.input.placeholder,type:"number"},on:{input:function(a){return t.onInput(e.key)}},model:{value:t.bankInfo[e.key],callback:function(a){t.$set(t.bankInfo,e.key,a)},expression:"bankInfo[field.key]"}})],1):a("el-col",{class:["info-block-row__value",!e.value&&"info-block-row__value-empty"],attrs:{span:15}},[t._v(" "+t._s(e.value?e.value:"Заполняется автоматически")+" ")]),a("el-col",{staticClass:"info-block-row__copy",attrs:{span:3}},[e.value||t.bankInfo[e.key]?a("el-button",{staticClass:"info-block-row__copy-btn",attrs:{type:"primary"},on:{click:function(a){return t.$copy(e.value||t.bankInfo[e.key])}}},[t._v(" Копировать ")]):t._e()],1)],1)}))],2)},mt=[],ht={name:"BankInfoBlock",data(){return{bankInfo:{account:"",bik:""}}},computed:{...(0,g.Se)(["getClientBankRows"])},methods:{...(0,g.nv)({getBankByBik:"getBankByBik"}),...(0,g.OI)({setClientAccount:"SET_CLIENT_BANK_ACCOUNT"}),onInput(t){switch(t){case"account":this.setClientAccount(this.bankInfo.account);break;case"bik":/^\d{9}$/.test(this.bankInfo.bik)&&this.getBankByBik(this.bankInfo.bik);break;default:break}}}},_t=ht,gt=(0,u.Z)(_t,dt,mt,!1,null,null,null),Ct=gt.exports,ft={name:"CompanyInfo",components:{ActionsBlock:ut,CompanyInfoBlock:N,BankInfoBlock:Ct},props:{value:String},computed:{...(0,g.rn)(["clientCompany"])}},vt=ft,bt=(0,u.Z)(vt,nt,ot,!1,null,"16dd2966",null),kt=bt.exports,yt=function(){var t=this,a=t._self._c;return a("div",{staticClass:"order"},[a("div",{staticClass:"order-pattern"},[a("div",{staticClass:"order-pattern-header"},[a("h3",{staticClass:"order-pattern-header__title"},[t._v("Шаблон шапки договора")]),a("el-button",{staticClass:"order-pattern-header__copy",attrs:{type:"primary"},on:{click:function(a){return t.$copy(t.templateForCopy)}}},[t._v("Копировать")])],1),a("div",{staticClass:"order-pattern-template"},[a("span",{domProps:{innerHTML:t._s(t.templateForRender)}})]),a("div",{staticClass:"order-pattern-header"},[a("h3",{staticClass:"order-pattern-header__title"},[t._v("Реквизиты")]),a("el-button",{staticClass:"order-pattern-header__copy",attrs:{type:"primary"},on:{click:function(a){return t.$copy("")}}},[t._v(" Копировать ")])],1),a("div",{staticClass:"order-pattern-block-card",class:{"order-pattern-block-card--reverse":t.isCustomer}},[a("SignatureBlock",{attrs:{side:t.clientCompany,"side-bank":t.clientBank}}),a("SignatureBlock",{attrs:{side:t.oppositeCompany,"side-bank":t.oppositeBank,passport:t.isCompany?null:t.passport}})],1)]),a("RequisitesSettings",{on:{reverse:a=>t.isCustomer=a,"find-agent":a=>t.isCompany=a,"update-passport":a=>t.passport=a}})],1)},wt=[],Bt=function(){var t=this,a=t._self._c;return a("div",{staticClass:"settings"},[a("h3",{staticClass:"settings-header"},[t._v("Настройки")]),a("div",{staticClass:"settings-sides"},[a("div",{staticClass:"settings-sides-one"},[a("div",{staticClass:"settings-sides-one-header"},[t._v(" "+t._s(this.clientCompany.short_name)+" ")]),a("el-radio-group",{on:{change:t.reverse},model:{value:t.isCustomer,callback:function(a){t.isCustomer=a},expression:"isCustomer"}},[a("el-radio-button",{attrs:{label:!0}},[t._v("Исполнитель")]),a("el-radio-button",{attrs:{label:!1}},[t._v("Заказчик")])],1)],1),a("div",{staticClass:"settings-sides-one"},[a("div",{staticClass:"settings-sides-one-header"},[t._v("Контрагент")]),a("el-radio-group",{on:{change:t.findAgent},model:{value:t.isCompany,callback:function(a){t.isCompany=a},expression:"isCompany"}},[a("el-radio-button",{attrs:{label:!0}},[t._v("Юр. лицо")]),a("el-radio-button",{attrs:{label:!1}},[t._v("Физ. лицо")])],1)],1)]),a("div",{staticClass:"settings-form"},[t.isCompany?a("el-form",{staticClass:"settings-form-entity"},[a("el-form-item",{staticClass:"settings-form-field",attrs:{label:"ИНН"}},[a("el-autocomplete",{attrs:{type:"number","fetch-suggestions":t.searchInn,"trigger-on-focus":!1,placeholder:"Пример: 7723615168"},on:{select:t.onSelectInn},model:{value:t.oppositeInn,callback:function(a){t.oppositeInn=a},expression:"oppositeInn"}}),t.innTag?a("el-tag",{attrs:{closable:""},on:{close:t.onCloseInnTag}},[t._v(" "+t._s(t.innTag)+" ")]):t._e()],1),a("el-form-item",{staticClass:"settings-form-field",attrs:{label:"БИК"}},[a("el-autocomplete",{attrs:{type:"number","fetch-suggestions":t.searchBik,"trigger-on-focus":!1,placeholder:"Пример: 044525593"},on:{select:t.onSelectBik},model:{value:t.oppositeBik,callback:function(a){t.oppositeBik=a},expression:"oppositeBik"}}),t.bikTag?a("el-tag",{attrs:{closable:""},on:{close:t.onCloseBikTag}},[t._v(" "+t._s(t.bikTag)+" ")]):t._e()],1),a("el-form-item",{staticClass:"settings-form-field",attrs:{label:"Р/с"}},[a("el-input",{attrs:{placeholder:"Пример: 40702810000000152259",type:"number"},on:{input:t.setOppositeAccount},model:{value:t.oppositeBankAccount,callback:function(a){t.oppositeBankAccount=a},expression:"oppositeBankAccount"}})],1)],1):a("el-form",{staticClass:"settings-form-individual"},[a("el-form-item",{staticClass:"settings-form-field",attrs:{label:"ФИО"}},[a("el-input",{attrs:{placeholder:"Пример: Иванов Иван Иванович"},model:{value:t.passport.name,callback:function(a){t.$set(t.passport,"name",a)},expression:"passport.name"}})],1),a("el-form-item",{staticClass:"settings-form-field",attrs:{label:"Серия и номер"}},[a("el-input",{attrs:{placeholder:"Пример: 6666 000001",type:"number"},model:{value:t.passport.number,callback:function(a){t.$set(t.passport,"number",a)},expression:"passport.number"}})],1),a("el-form-item",{staticClass:"settings-form-field",attrs:{label:"Дата выдачи"}},[a("el-date-picker",{attrs:{type:"date",format:"dd.MM.yyyy","value-format":"dd.MM.yyyy",placeholder:"Выберите дату",pickerOptions:{firstDayOfWeek:1}},model:{value:t.passport.date,callback:function(a){t.$set(t.passport,"date",a)},expression:"passport.date"}})],1),a("el-form-item",{staticClass:"settings-form-field",attrs:{label:"Кем выдан"}},[a("el-input",{attrs:{placeholder:"Пример: Отделом ОУФМС России по гор.Москве"},model:{value:t.passport.authority,callback:function(a){t.$set(t.passport,"authority",a)},expression:"passport.authority"}})],1),a("el-form-item",{staticClass:"settings-form-field",attrs:{label:"Код подразделения"}},[a("el-input",{attrs:{placeholder:"Пример: 100-500"},model:{value:t.passport.subdivision,callback:function(a){t.$set(t.passport,"subdivision",a)},expression:"passport.subdivision"}})],1)],1)],1),a("div",{staticClass:"settings-comment"},[t._v(" * Мы не сохраняем данные контрагентов. После перезагрузки страницы, данные о контрагентах обнулятся. ")])])},Ot=[],Tt={name:"RequisitesSettings",components:{},data:()=>({isCompany:!0,isCustomer:!0,oppositeBik:"",oppositeInn:"",oppositeBankAccount:"",innTag:"",bikTag:"",passport:{name:"",number:"",authority:"",date:"",subdivision:"",type:"PERSON"}}),computed:{...(0,g.rn)(["oppositeCompany","oppositeBank","clientCompany"])},watch:{passport:{handler:function(t){this.$emit("update-passport",t)},deep:!0}},methods:{...(0,g.nv)({getOppositeCompanyByInn:"getOppositeCompanyByInn",getOppositeBankByBik:"getOppositeBankByBik"}),...(0,g.OI)({setOppositeBankAccount:"SET_OPPOSITE_BANK_ACCOUNT",setOppositeCompany:"SET_OPPOSITE_COMPANY",clearOpposite:"CLEAR_OPPOSITE_COMPANY",clearOppositeBank:"CLEAR_OPPOSITE_BANK",setOppositeBank:"SET_OPPOSITE_BANK"}),reverse(){this.$emit("reverse",this.isCustomer)},findAgent(){this.$emit("find-agent",this.isCompany)},setOppositeAccount(){this.setOppositeBankAccount(this.oppositeBankAccount)},onSelectInn(t){this.setOppositeCompany(t.data),this.innTag=t.value},searchInn(t,a){if(!/^\d{10,12}$/.test(t))return a([]);this.getOppositeCompanyByInn(t).then((t=>{a([{value:t.value,data:t}])}))},onCloseInnTag(){this.innTag="",this.clearOpposite()},onSelectBik(t){this.setOppositeBank(t.data),this.bikTag=t.value},searchBik(t,a){if(!/^\d{9}$/.test(t))return a([]);this.getOppositeBankByBik(t).then((t=>{a([{value:t.value,data:t}])}))},onCloseBikTag(){this.bikTag="",this.clearOppositeBank()}}},$t=Tt,It=(0,u.Z)($t,Bt,Ot,!1,null,"7f154469",null),Et=It.exports;function St(t,a){return`именуем${t?"ый":"ое"} в дальнейшем "${a?"Заказчик":"Исполнитель"}"`}function Pt(t,a){return"LEGAL"!==t.type?"":a?`в лице <span style="color:#409EFF"> ${t.manager} ${t.ceo}</span>, действующего на основании Устава,`:`в лице  ${t.manager} ${t.ceo}, действующего на основании Устава,`}function At(t,a,e){const s=t.full_name,n=St("INDIVIDUAL"===t.type,a),o=Pt(t,e);return`${e?`<span style="color:#409EFF">${s}</span>`:`${s}`}, ${n}, ${o}`}function Lt(t,a){const e=St("INDIVIDUAL"===t.type,a),s="PERSON"===t.type?`Частное лицо ${t.name||"Иванов Иван Иванович"}   , паспорт (серия, номер) ${t.number||"–"}, выдан ${t.date||"–"} ${t.authority||"–"}, код подразделения ${t.subdivision||"–"}`:t.full_name,n=Pt(t);return`${s}, ${e}, ${n}`}function xt(t,a,e,s){const n=At(t,!e,s),o=Lt(a,e),i=e?n:o,r=e?o:n,l='совместно именуемые "Стороны", а по отдельности "Сторона", заключили настоящий Договор о нижеследующем:';return`${i} с одной стороны, и ${r} с другой стороны, ${l}`}var Nt=function(){var t=this,a=t._self._c;return a("div",{staticClass:"signature-block"},[t.passport?[a("div",{staticClass:"signature-block-header"},[t._v(" "+t._s(t.passport.name||"Иванов Иван Иванович")+" ")]),a("div",{staticClass:"signature-block-item"},[a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__field"},[t._v(" Паспорт: ")]),a("span",{staticClass:"signature-block-row__value"},[t._v(" "+t._s(t.passport.number||"6666 000001")+" ")])])]),a("div",{staticClass:"signature-block-item"},[a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__field"},[t._v(" Выдан: ")]),a("span",{staticClass:"signature-block-row__value"},[t._v(" "+t._s(t.passport.authority||"отделом ОУФМС России по г.Москва")+" ")])]),a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__field"},[t._v(" Дата выдачи: ")]),a("span",{staticClass:"signature-block-row__value"},[t._v(" "+t._s(t.passport.date||"10.11.2012")+" ")])]),a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__field"},[t._v(" Код подразделения: ")]),a("span",{staticClass:"signature-block-row__value"},[t._v(" "+t._s(t.passport.subdivision||"100-500")+" ")])])]),a("div",{staticClass:"signature-block-item"},[t._m(0),a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-hand"},[t._v(" "+t._s(t.signName)+" ")])])])]:[a("div",{staticClass:"signature-block-header"},[t._v(" "+t._s(t.side.short_name)+" ")]),a("div",{staticClass:"signature-block-item"},[a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__field"},[t._v(" Адрес: ")]),a("span",{staticClass:"signature-block-row__value"},[t._v(" "+t._s(t.side.address||"–")+" ")])])]),a("div",{staticClass:"signature-block-item"},[a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__field"},[t._v(" ИНН: ")]),a("span",{staticClass:"signature-block-row__value"},[t._v(" "+t._s(t.side.inn||"–")+" ")])]),"LEGAL"===t.side.type?a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__field"},[t._v(" КПП: ")]),a("span",{staticClass:"signature-block-row__value"},[t._v(" "+t._s(t.side.kpp||"–")+" ")])]):t._e(),a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__field"},[t._v(" ОГРН: ")]),a("span",{staticClass:"signature-block-row__value"},[t._v(" "+t._s(t.side.ogrn||"–")+" ")])])]),a("div",{staticClass:"signature-block-item"},[a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__field"},[t._v(" Р/с: ")]),a("span",{staticClass:"signature-block-row__value"},[t._v(" "+t._s(t.sideBank.account||"–")+" в "+t._s(t.sideBank.name||"–")+" ")])]),a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__field"},[t._v(" К/с: ")]),a("span",{staticClass:"signature-block-row__value"},[t._v(" "+t._s(t.sideBank.correspondent_account||"–")+" ")])]),a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__field"},[t._v(" Бик: ")]),a("span",{staticClass:"signature-block-row__value"},[t._v(" "+t._s(t.sideBank.bik||"–")+" ")])])]),a("div",{staticClass:"signature-block-item"},["LEGAL"===t.side.type?a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__field"},[t._v(" "+t._s(t.side.manager||"–")+" ")])]):t._e(),a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__value"},[t._v(" "+t._s(t.side.short_name||"–")+" ")])]),a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-hand"},[t._v(" "+t._s(t.signName)+" ")])])])]],2)},Zt=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"signature-block-row"},[a("span",{staticClass:"signature-block-row__field"},[t._v(" Частное лицо ")])])}],Mt={name:"SignatureBlock",props:{side:{type:Object,required:!0},sideBank:{type:Object,required:!0},passport:{type:[Object,null],default:null}},computed:{signName(){const t=(this.passport?this.passport.name:this.side.ceo)||"Иванов Иван Иванович";return t.split(/\s+/).map(((t,a)=>a?t.substring(0,1).toUpperCase()+".":t)).join(" ")}}},Rt=Mt,Ft=(0,u.Z)(Rt,Nt,Zt,!1,null,"5ef5cb8c",null),Ht=Ft.exports,jt={name:"ContractTemplate",components:{RequisitesSettings:Et,SignatureBlock:Ht},data:()=>({isCustomer:!0,isCompany:!0,passport:{type:"PERSON"}}),props:{value:String},computed:{...(0,g.rn)(["clientCompany","oppositeCompany","oppositeBank","clientBank"]),templateForRender(){return xt(this.clientCompany,this.isCompany?this.oppositeCompany:this.passport,this.isCustomer,!0)},templateForCopy(){return xt(this.clientCompany,this.isCompany?this.oppositeCompany:this.passport,this.isCustomer)}}},Ut=jt,Yt=(0,u.Z)(Ut,yt,wt,!1,null,null,null),Dt=Yt.exports,Kt=function(){var t=this,a=t._self._c;return a("div",{staticClass:"email-form"},[a("div",{staticClass:"email-form-header"},[a("h1",{staticClass:"email-form-header__title"},[t._v("Введите Email получателя")]),a("el-button",{staticClass:"email-form-header__btn",attrs:{plain:""},on:{click:t.closeEmail}},[t._v(" Отмена ")])],1),a("ActionField",{attrs:{placeholder:"Пример: business@itillect.com",rule:"email",label:"Отправить"},on:{action:t.sendEmail},model:{value:t.email,callback:function(a){t.email=a},expression:"email"}}),a("p",[t._v(" На указанный Email мы отправим письмо с приложенной карточкой в формате PDF ")])],1)},Vt=[],qt={name:"EmailForm",components:{ActionField:j},data:()=>({isEmailValid:!1,email:""}),methods:{closeEmail(){this.$emit("close")},sendEmail(){this.$emit("mailsent")}}},Gt=qt,Wt=(0,u.Z)(Gt,Kt,Vt,!1,null,null,null),zt=Wt.exports,Jt={name:"CardPage",components:{CompanyInfo:kt,ContractTemplate:Dt,EmailForm:zt},data:()=>({isOpenSendEmailBlock:"",isLoading:!1}),computed:{...(0,g.rn)(["clientCompany"])},watch:{"$route.params":{handler:function(){this.getCompanyByHash()},deep:!0,immediate:!0}},methods:{...(0,g.nv)(["fetchCompanyByHash"]),getCompanyByHash(){this.clientCompany?.hash!==this.$route.params?.hash&&(this.isLoading=!0,this.fetchCompanyByHash(this.$route.params.hash).then((()=>this.isLoading=!1)).catch((t=>{this.$router.push("/"),this.$message({message:`Что-то пошло не так, попробуйте еще раз (${t})`,type:"error"})})))}}},Xt=Jt,Qt=(0,u.Z)(Xt,et,st,!1,null,null,null),ta=Qt.exports;s["default"].use(O.ZP);const aa=[{path:"/",name:"home",component:at},{path:"/bcard/:hash",name:"generator",component:ta}],ea=new O.ZP({mode:"history",base:"/",routes:aa});var sa=ea;s["default"].use(g.ZP);var na=new g.ZP.Store({state:{clientCompany:null,oppositeCompany:{full_name:"Общество с ограниченной ответственностью 'Рога и Копыта'",short_name:'ООО "Рога и Копыта"',manager:"Ген. директор",ceo:"Сергеев Сергей Сергеевич",inn:"6601234567",kpp:"660123456",ogrn:"1234567890123",address:"г.Москва ул.Пушкина д.1",full_address:"г.Москва ул.Пушкина д.1 п.123",type:"LEGAL"},oppositeBank:{name:"Банк джедаев",correspondent_account:"11223344556677889900",bik:"123456789",account:""},clientBank:{name:"",correspondent_account:"",bik:"",account:""},companiesTabs:[]},getters:{getClientBankRows:t=>t.clientBank?[{key:"account",label:"Счет",input:{placeholder:"Введите номер банковского счета"}},{key:"bik",label:"БИК",input:{placeholder:"Введите БИК"}},{key:"bank_name",label:"Наименование Банка",value:t.clientBank.name},{key:"korr_account",label:"Корр. счет",value:t.clientBank.correspondent_account}]:[],getClientCompanyTableRows:t=>t.clientCompany?[{key:"full_name",label:"Полное наименование",value:t.clientCompany.full_name},{key:"short_name",label:"Краткое наименование",value:t.clientCompany.short_name},{key:"ceo",label:t.clientCompany?.manager,value:t.clientCompany?.ceo},{key:"inn",label:"ИНН",value:t.clientCompany.inn},{key:"kpp",label:"КПП",value:t.clientCompany.kpp},{key:"ogrn",label:"ОГРН",value:t.clientCompany.ogrn},{key:"okpo",label:"ОКПО",value:t.clientCompany.okpo},{key:"address",label:"Юридический Адрес",value:t.clientCompany.address}]:[]},mutations:{SET_COMPANY_TAB(t,a){const e=t.companiesTabs.find((t=>t.hash===a.hash||t.title===a.title));e||(t.companiesTabs.push(a),localStorage.setItem("usedTabs",JSON.stringify(t.companiesTabs)))},SET_COMPANY_TABS(t){t.companiesTabs=JSON.parse(localStorage.getItem("usedTabs"))??[]},SET_OPPOSITE_COMPANY(t,a){t.oppositeCompany={full_name:a.data.name.full_with_opf,short_name:a.value,manager:a.data.management?.post?.[0].toUpperCase()+a.data.management?.post?.slice(1).toLowerCase(),ceo:a.data.management?.name||a.data.name.full,inn:a.data.inn,kpp:a.data.kpp,ogrn:a.data.ogrn,address:a.data.address.value,full_address:a.data.address.unrestricted_value,type:a.data.type}},SET_CLIENT_COMPANY(t,[a,e]){t.clientCompany={hash:e,full_name:a.data.name.full_with_opf,short_name:a.value,manager:a.data.management?.post?.[0].toUpperCase()+a.data.management?.post?.slice(1).toLowerCase(),ceo:a.data.management?.name||a.data.name.full,inn:a.data.inn,kpp:a.data.kpp,ogrn:a.data.ogrn,address:a.data.address.value,okpo:a.data.okpo,type:a.data.type}},SET_CLIENT_BANK(t,a){t.clientBank.name=a.data.name.short,t.clientBank.correspondent_account=a.data.correspondent_account,t.clientBank.bik=a.data.bic},SET_CLIENT_BANK_ACCOUNT(t,a){t.clientBank.account=a},SET_OPPOSITE_BANK_ACCOUNT(t,a){t.oppositeBank.account=a},SET_OPPOSITE_BANK(t,a){t.oppositeBank.name=a.data.name.short,t.oppositeBank.correspondent_account=a.data.correspondent_account,t.oppositeBank.bik=a.data.bic},CLEAR_OPPOSITE_COMPANY(t){t.oppositeCompany={full_name:"Общество с ограниченной ответственностью 'Рога и Копыта'",short_name:'ООО "Рога и Копыта"',manager:"Ген. директор",ceo:"Сергеев Сергей Сергеевич",inn:"6601234567",kpp:"660123456",ogrn:"1234567890123",address:"г.Москва ул.Пушкина д.1",full_address:"г.Москва ул.Пушкина д.1 п.123",type:"LEGAL"}},CLEAR_OPPOSITE_BANK(t){t.oppositeBank.name="Банк джедаев",t.oppositeBank.correspondent_account="11223344556677889900",t.oppositeBank.bik="123456789"}},actions:{fetchCompanyByHash({commit:t},a){return new Promise(((e,s)=>{this._vm.$api.post("/",{action:"bcard:company",hash:`${a}`}).then((s=>{if("error"===s.data.result)throw new Error(s.data.data.message);if(!s.data.data.company.suggestions?.length)throw new Error("Что-то пошло не так");t("SET_CLIENT_COMPANY",[s.data.data.company.suggestions[0],a]),e()})).catch((t=>{s(t)}))}))},getCompanyByInn({commit:t},a){return new Promise(((e,s)=>{this._vm.$api.post("/",{action:"bcard:company:search",inn:a}).then((a=>{if("error"===a.data.result)throw new Error(a.data.data.message);if(!a.data.data.company.suggestions?.length)throw new Error("Что-то пошло не так");t("SET_CLIENT_COMPANY",[a.data.data.company.suggestions[0],a.data.data.hash]),e()})).catch((t=>{s(t)}))}))},getOppositeCompanyByInn(t,a){return new Promise(((t,e)=>{this._vm.$api.post("/",{action:"bcard:company:search",inn:a}).then((a=>{if("error"===a.data.result)throw new Error(a.data.data.message);if(!a.data.data.company.suggestions?.length)throw new Error("Что-то пошло не так");t(a.data.data.company.suggestions[0])})).catch((t=>{e(t)}))}))},getBankByBik({commit:t},a){this._vm.$api.post("/",{action:"bcard:bank:bik",bik:a}).then((a=>{t("SET_CLIENT_BANK",a.data.data.bank.suggestions[0])}))},getOppositeBankByBik(t,a){return new Promise(((t,e)=>{this._vm.$api.post("/",{action:"bcard:bank:bik",bik:a}).then((a=>{t(a.data.data.bank.suggestions[0])})).catch((t=>{e(t)}))}))},getPdf(t,a){return new Promise(((t,e)=>{this._vm.$api.get(`/?action=get-bcard-pdf&hash=${a}`).then((()=>{window.location="https://itillect.ru/bcard-load/"+a+"/",t()})).catch((()=>e()))}))},getWord(t,a){return new Promise(((t,e)=>{this._vm.$api.get(`/?action=get-bcard-word&hash=${a}`).then((()=>{window.location="https://itillect.ru/bcard-load/"+a+"/word/",t()})).catch((()=>e()))}))}}}),oa=e(5114),ia=e.n(oa),ra=e(4644);const la={install(t){t.prototype.$flashMessage=function(t=""){this.$copy(t,!1);const a=document.createElement("div");a.innerHTML=`\n        <div class ="flash-message-header">Ссылка скопирована в буфер</div>\n        <div class ="flash-message-content">${t}</div>\n      `,a.classList.add("flash-message"),document.body.appendChild(a),setTimeout((()=>{document.body.removeChild(a),navigator.clipboard.writeText(t)}),3e3)}}};s["default"].use(la);const ca={install(t){t.prototype.$copy=function(t="",a=!0){a&&this.$message("Скопировано"),navigator.clipboard.writeText(t)}}};s["default"].use(ca);var pa=e(306),ua=e(6891);const da="https://itillect.ru/bcard-ajax",ma=pa.Z.create({baseURL:da,withCredentials:!1});s["default"].use(ua.Z,{$api:ma}),s["default"].config.productionTip=!1,s["default"].use(ia(),{locale:ra.Z}),new s["default"]({router:sa,store:na,render:t=>t(B)}).$mount("#app")},2611:function(t,a,e){t.exports=e.p+"img/bcard-logo.5edcc55f.svg"}},a={};function e(s){var n=a[s];if(void 0!==n)return n.exports;var o=a[s]={id:s,loaded:!1,exports:{}};return t[s](o,o.exports,e),o.loaded=!0,o.exports}e.m=t,function(){e.amdO={}}(),function(){var t=[];e.O=function(a,s,n,o){if(!s){var i=1/0;for(p=0;p<t.length;p++){s=t[p][0],n=t[p][1],o=t[p][2];for(var r=!0,l=0;l<s.length;l++)(!1&o||i>=o)&&Object.keys(e.O).every((function(t){return e.O[t](s[l])}))?s.splice(l--,1):(r=!1,o<i&&(i=o));if(r){t.splice(p--,1);var c=n();void 0!==c&&(a=c)}}return a}o=o||0;for(var p=t.length;p>0&&t[p-1][2]>o;p--)t[p]=t[p-1];t[p]=[s,n,o]}}(),function(){e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,{a:a}),a}}(),function(){e.d=function(t,a){for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){e.p="/"}(),function(){var t={143:0};e.O.j=function(a){return 0===t[a]};var a=function(a,s){var n,o,i=s[0],r=s[1],l=s[2],c=0;if(i.some((function(a){return 0!==t[a]}))){for(n in r)e.o(r,n)&&(e.m[n]=r[n]);if(l)var p=l(e)}for(a&&a(s);c<i.length;c++)o=i[c],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(p)},s=self["webpackChunkproject"]=self["webpackChunkproject"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(512)}));s=e.O(s)})();
//# sourceMappingURL=app.42ddb169.js.map